var FieldValidator=function(e){this.options=$.extend({summary:null,listParentEl:null,validators:[]},e);this.setup()};
(function(e){function j(a){if(!a||0===a.length)return null;a=a.filter(function(a){return!1===a.isValidResult});return 0<a.length?a[0].errorMsg:""}function g(a,b){a&&(a.removeClass("empty"),a.removeClass("warning"),a.removeClass("check"),!0===b?a.addClass("check"):!1===b?a.addClass("warning"):a.addClass("empty"))}function h(a,b,c){var d=LPTools.createElement("div",{"class":"col-1"},null);c=LPTools.createElement("div",{"class":"validation-img "+(c?"empty":"")},null);d.appendChild(c);var f=LPTools.createElement("div",
{"class":"col-11"},null);b&&f.appendChild(b);a=LPTools.createElement("div",{id:a,"class":"row"},null);a.appendChild(d);a.appendChild(f);return{validatorEl:a,stateEl:e(c),msgEl:e(f)}}FieldValidator.prototype.setup=function(){this.setupSummary();this.setupValidatorList();return this};FieldValidator.prototype.setupSummary=function(){if(this.options.summary&&this.options.validators&&0<this.options.validators.length){var a=h(this.options.summary.id,this.options.summary.errorMsg,!1);this.options.summary.stateEl=
a.stateEl;this.options.summary.msgEl=a.msgEl;this.options.summary.parentEl.empty();this.options.summary.parentEl.append(a.validatorEl);this.options.summary.parentEl.hide()}};FieldValidator.prototype.setupValidatorList=function(){if(this.options.listParentEl){for(var a=LPTools.createElement("div",null,null),b=0;b<this.options.validators.length;b++){var c=h(this.options.validators[b].id,this.options.validators[b].name,!0);c&&(this.options.validators[b].stateEl=c.stateEl,a.appendChild(c.validatorEl))}this.options.listParentEl.empty();
this.options.listParentEl.append(a)}};FieldValidator.prototype.updateStateList=function(){if(this.options.validators&&0<this.options.validators.length)for(var a=0;a<this.options.validators.length;a++)g(this.options.validators[a].stateEl,this.options.validators[a].isValidResult)};FieldValidator.prototype.updateStateSummary=function(a){this.options.summary&&(this.options.validators&&0<this.options.validators.length)&&(!1===a?(g(this.options.summary.stateEl,a),this.options.summary.msgEl.empty(),this.options.summary.msgEl.append(j(this.options.validators)),
this.options.summary.parentEl.show(),this.options.summary.labelEl&&this.options.summary.labelEl.hide()):(this.options.summary.parentEl.hide(),this.options.summary.labelEl&&this.options.summary.labelEl.show()))};FieldValidator.prototype.getValidationList=function(){var a=[];if(this.options.validators)for(var b=0;b<this.options.validators.length;b++)this.options.validators[b].isValidResult||a.push(this.options.validators[b].id);return a};FieldValidator.prototype.validate=function(a,b,c){var d=!1;if(a&&
this.options.validators&&0!==this.options.validators.length){try{for(d=0;d<this.options.validators.length;d++)this.options.validators[d].isValidResult=this.options.validators[d].isValid(a)}catch(f){return console.log("Something went wrong while executing validation: "+f),!1}d=this.options.validators;d=!d||0===d.length?!1:d.filter(function(a){return!0===a.isValidResult}).length==d.length;c||this.updateStateSummary(d);this.updateStateList();c=this.options.validators;a=d;if(b&&e.isFunction(b)&&!1===
a&&c&&0<c.length){c=c.filter(function(a){return!0===a.isValidResult});for(a=0;a<c.length;a++)b(c.errorMsg)}}return d}})(jQuery);
