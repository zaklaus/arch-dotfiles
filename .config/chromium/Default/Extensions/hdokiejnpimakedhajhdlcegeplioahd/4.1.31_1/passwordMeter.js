(function(g){var j=function(b,f){var a=0;if(""===f&&""===b)return 0;var c=b.toLowerCase(),d=f.toLowerCase();if(c===d||d&&-1!==c.indexOf(d)||d&&-1!==d.indexOf(c))return 1;a+=b.length;if(0<b.length&&7>=b.length)return 1;8<=b.length&&15>=b.length?a+=12:16<=b.length&&(a+=18);b.match(/[a-z]/)&&(a+=1);b.match(/[A-Z]/)&&(a+=5);b.match(/\d/)&&(a+=5);b.match(/.*\d.*\d.*\d/)&&(a+=5);b.match(/[!,@,#,$,%,^,&,*,?,_,~]/)&&(a+=5);b.match(/.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~]/)&&(a+=5);b.match(/(?=.*[a-z])(?=.*[A-Z])/)&&
(a+=2);b.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/)&&(a+=2);b.match(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!,@,#,$,%,^,&,*,?,_,~])/)&&(a+=2);for(var c={},e=d=0,g=b.length;e<g;++e){var h=b.charAt(e);void 0===c[h]&&(c[h]=1,++d)}if(1===d)return 2;a*=2;0>a?a=0:100<a&&(a=100);return a},h=function(b,f,a,c){a=j(b,a,c);var d="poor",e=Strings.translateString("Invalid");17>a||(34>a?(d="bad",e=Strings.translateString("Weak")):51>a?(d="ok",e=Strings.translateString("Okay")):68>a?(d="good",e=Strings.translateString("Good")):
85>a?(d="great",e=Strings.translateString("Secure")):(d="best",e=Strings.translateString("Super!")));f.attr("class",d);f.css("width",a+"%");c&&(b?(g(c.parent()).css("opacity",1),c.text(e),c.removeClass("strength")):(g(c.parent()).css("opacity",0.5),c.text(Strings.translateString("Strength")),f.attr("class","strength"),f.css("width","100%")))};jQuery.fn.LP_addGeneratePasswordMeter=function(){if(this&&0<this.length){var b=g(LPTools.createElement("div","meter-gen-pass")),f=g(LPTools.createElement("div"));
this.parent().append(b.append(f));b=function(){h(g(this).val(),f,"somestringthathopefullydoesnotmatchpassword")};this.on("input",b).on("change",b)}};jQuery.fn.LP_addPasswordMeter=function(b,f){var a=LPTools.createElement("div","meterContainer"),c=LPTools.createElement("div","meter"),d=LPTools.createElement("div"),e=null;c.appendChild(d);a.appendChild(c);c=g(c);d=g(d);f&&(e=LPTools.createElement("label","meterLabel","Strength"),a.appendChild(e),e=g(e),c.css("width","88%"),e.css("width","12%"));this.parent().append(a);
this.LP_input("passwordMeter",function(a){h(a,d,b?b.val():"",e)})}})(jQuery);
