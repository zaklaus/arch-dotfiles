var Provisioning;
(function(h){var c=function(b,a){this.platform=b;this.global=a};c.prototype.checkUserState=function(b){!this.global.lploggedin&&this.global.shouldOpenLogin4_0()?(b({error:"User is not logged in."}),this.platform.openLoginPopover()):b({result:"OK."})};c.prototype.sendApiCalls=function(b,a,c){var f=this;this.platform.openTab({url:this.urlToCall(b),inactive:!0,loadHandler:function(b){var e={global:!1,type:a.action_type||"GET",cache:!1,url:a.url,data:a.params,success:function(a){f.handleResponseFromThridParty(b,c,
a)},error:function(a,d){f.handleResponseFromThridParty(b,c,{error:d})}};if(a.header){e.headers={};for(var d=0;d<a.header.length;d++)e[a.header[d].key]=a.header[d].value}if("json"!==a.dataType){var d=[],g;for(g in a.data)d.push(g+"="+encodeURIComponent(a.data[g]));e.data=d.join("&")}else e.data=JSON.stringify(a.data);b.getTop().jQuery.ajax(e);f.cstimeout=setTimeout(function(){f.handleResponseFromThridParty(b,c,{error:"timeout"})},1E4)}})};c.prototype.handleResponseFromThridParty=function(b,a,c){clearTimeout(this.cstimeout);
a(c);b.close()};c.prototype.getLocalKey=function(b){b({key:g_local_key,hash:g_local_key_hash,hex:g_local_key_hex})};c.prototype.urlToCall=function(b){var a=document.createElement("a");a.href=b;return a.origin};h.ProvisioningService=c;h.provisioning=new c(LPPlatform,window)})(Provisioning||(Provisioning={}));
