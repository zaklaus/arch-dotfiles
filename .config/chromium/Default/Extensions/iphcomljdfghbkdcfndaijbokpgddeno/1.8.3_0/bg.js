// Cookies App for Google Chrome - HOTCLEANER.COM - Copyright (c) 2015 Vlad & Serge Strukoff. All Rights Reserved.
(function(){function p(){localStorage.setItem("opt",JSON.stringify(f))}function u(){chrome.tabs.create({url:"editor.html"});chrome.tabs.create({url:"http://www.hotcleaner.com/cookies.html",selected:!0})}function w(a){var b=a.cookie,c=a.cause.length,d=h(b);-1<d&&a.removed&&(9>c?s(b):(e.splice(d,1,b),k(e)))}function x(){var a=e.length;0<a&&v(e[0],function(b){if(!b)for(b=0;b<a;b++)s(e[b])})}function k(a){var b;try{b=JSON.stringify(a)}catch(c){b="[]"}localStorage.setItem("wlist",b)}function y(a){if(a)for(var b=
0;b<a.length;b++)0>h(a[b])&&e.push(a[b]);k(e)}function z(a){var b=h(a);-1<b&&(e.splice(b,1,a),k(e))}function A(a){if(a)for(var b=0;b<a.length;b++){var c=h(a[b]);-1<c&&e.splice(c,1)}else e=[];k(e)}function h(a){for(var b,c=0,d=e.length;c<d;c++)if(b=e[c],b.domain==a.domain&&b.name==a.name)return c;return-1}function B(a,b,c){b.id==C?q(a,b,c):b.id==D?q(a,b,c):b.id==E&&q(a,b,c);return!0}function r(a){a==g&&(chrome.tabs.onUpdated.removeListener(r),chrome.tabs.onRemoved.removeListener(r),g=-9)}function q(a,
b,c){var d;try{d=JSON.parse(a)}catch(k){return}a=d.id;if(0==a)-9==g?(g=b.tab.id,chrome.tabs.onRemoved.addListener(r),chrome.tabs.onUpdated.addListener(r),c()):(chrome.tabs.update(g,{selected:!0}),chrome.tabs.remove(b.tab.id));else if(1==a)c(e);else if(2==a)y(d.data);else if(3==a)z(d.data);else if(4==a)A(d.data);else{if(6==a)return chrome.cookies.getAll({},function(a){for(var b=0;b<a.length;b++)-1<h(a[b])?a[b].w=1:a[b].w=0;c(a)}),!0;if(7==a)return v(d.data,c),!0;if(8==a)return s(d.data,c),!0;if(9==
a)return n(d.data,c),!0;if(10==a)return F(d.data.w,d.data.f,c),!0;20==a?chrome.tabs.create(d.data):30==a?(f=d.data,p()):31==a&&c({v:f})}}function v(a,b){var c=t(a);chrome.cookies.get({url:c,name:a.name},b)}function s(a,b){var c=t(a);chrome.cookies.set({url:c,name:a.name,value:a.value,domain:a.domain,path:a.path,secure:a.secure,httpOnly:a.httpOnly,expirationDate:a.expirationDate,storeId:a.storeId},b)}function n(a,b){var c=t(a);chrome.cookies.remove({url:c,name:a.name},b)}function F(a,b,c){chrome.cookies.getAll({},
function(d){for(var f=0,g=d.length;f<g;f++){var l=d[f],m=h(l);b?-1<l.domain.indexOf(b)&&(a?(-1<m&&e.splice(m,1),n(l)):0>m&&n(l)):a?(-1<m&&e.splice(m,1),n(l)):0>m&&n(l)}k(e);c()})}function t(a){return"http"+(a.secure?"s":"")+"://"+a.domain+a.path}function G(a,b){-1<g?chrome.tabs.update(g,{selected:!0}):chrome.tabs.create({url:"editor.html"})}var C="ghgabhipcejejjmhhchfonmamedcbeod",D="gjieilkfnnjoihjjonajndjldjoagffm",E="jjolhjmdgbhebcdnfjhngobjggghoipa",g=-9,e=0,f={v:"1.8.3",nv:0,p:0};(function(){var a=
localStorage.getItem("opt");if(void 0==a)f.nv=1,p(),u();else{try{a=JSON.parse(a)}catch(b){p();return}if("1.8.3"!=a.v){for(var c in a)void 0!=f[c]&&(f[c]=a[c]);a=(new Date).getTime();c=a+6048E5;f.nv=Math.floor(Math.random()*(c-a+1))+a;f.v="1.8.3";p()}else f=a,1<f.nv&&f.nv<(new Date).getTime()&&(f.nv=2,setTimeout(u,2E3))}var a=localStorage.getItem("wlist"),d;c=[];if(a){try{d=JSON.parse(a)}catch(g){d=c}e=d}else e=c;for(a=0;a<e.length;a++)(d=e[a])&&d.domain&&d.name||e.splice(a,1);x();chrome.cookies.onChanged.addListener(w);
chrome.runtime.onMessage.addListener(q);chrome.runtime.onMessageExternal.addListener(B);chrome.contextMenus.create({title:"Edit Cookies",onclick:G})})()})();
